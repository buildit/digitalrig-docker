## Does not work out of the box, should be added in 1.6: track progress here https://github.com/kubernetes/kubernetes/issues/41039
## For now it needs to be executed externally (i.e from Jenkins Job)
#
##apiVersion: batch/v2alpha1
##kind: CronJob
#apiVersion: batch/v1
#kind: Job
#metadata:
#  name: curator-logging
#  namespace: kube-system
#spec:
#  #schedule: 1 0 * * *
#  #jobTemplate:
#  #  spec:
#  template:
#    spec:
#      containers:
#      - name: curator
#        image: bobrik/curator
#        args: ["--config", "/etc/config/config.yml", "/etc/config/action_file.yml"]
#        volumeMounts:
#          - name: config-volume
#            mountPath: /etc/config
#      volumes:
#        - name: config-volume
#          configMap:
#            name: curator-config
#      restartPolicy: Never
#---
#apiVersion: v1
#kind: ConfigMap
#metadata:
#  name: curator-config
#  namespace: kube-system
#data:
#  action_file.yml: |-
#    ---
#    # Remember, leave a key empty if there is no value.  None will be a string,
#    # not a Python "NoneType"
#    #
#    # Also remember that all examples have 'disable_action' set to True.  If you
#    # want to use this action as a template, be sure to set this to False after
#    # copying it.
#    actions:
#      1:
#        action: delete_indices
#        description: "Clean up ES by deleting old indices"
#        options:
#          timeout_override:
#          continue_if_exception: False
#          disable_action: False
#        filters:
#        - filtertype: age
#          source: name
#          direction: older
#          timestring: '%Y.%m.%d'
#          unit: days
#          unit_count: 14
#          field:
#          stats_result:
#          epoch:
#          exclude: False
#  config.yml: |-
#    ---
#    # Remember, leave a key empty if there is no value.  None will be a string,
#    # not a Python "NoneType"
#    client:
#      hosts:
#        - elasticsearch-logging
#      port: 9200
#      url_prefix:
#      use_ssl: False
#      certificate:
#      client_cert:
#      client_key:
#      ssl_no_validate: False
#      http_auth:
#      timeout: 30
#      master_only: False
#    logging:
#      loglevel: INFO
#      logfile:
#      logformat: default
#      blacklist: ['elasticsearch', 'urllib3']